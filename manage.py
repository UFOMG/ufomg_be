from flask_script import Manager
from flask_migrate import Migrate, MigrateCommand

from api import create_app, db
from api.database.models import Report, Comment
from tests import db_drop_everything
from datetime import datetime

app = create_app()
migrate = Migrate(app, db)
manager = Manager(app)

# manage migrations
manager.add_command('db', MigrateCommand)



@manager.command
def routes():
    print(app.url_map)


@manager.command
def db_seed():
    db_drop_everything(db)
    db.create_all()

    #Denver Area:
    #2 days ago:
    report1 = Report(name='Phil', lat=39.3912345, long=-104.5212345, description='Saw some stuff', event_type='sighting', city="Denver", state="CO", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,12,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report2 = Report(name='Phil', lat=39.4312345, long=-104.5012345, description='Saw some stuff', event_type='sighting', city="Denver", state="CO", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,13,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report3 = Report(name='Phil', lat=39.4112345, long=-104.5612345, description='Saw some stuff', event_type='sighting', city="Denver", state="CO", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,14,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report4 = Report(name='Phil', lat=39.4512345, long=-104.5212345, description='Saw some stuff', event_type='sighting', city="Denver", state="CO", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,15,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report5 = Report(name='Austin', lat=39.4512345, long=-104.5812345, description='talked to some greys', event_type='contact', city="Denver", state="CO", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,16,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report6 = Report(name='Austin', lat=39.3912345, long=-104.4612345, description='talked to some greys', event_type='contact', city="Denver", state="CO", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,17,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report7 = Report(name='Austin', lat=39.3712345, long=-104.5412345, description='talked to some greys', event_type='contact', city="Denver", state="CO", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,18,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report8 = Report(name='Austin', lat=39.4112345, long=-104.4412345, description='talked to some greys', event_type='contact', city="Denver", state="CO", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,19,00).strftime("%m/%d/%Y, %H:%M:%S"))
    #10 days ago
    report9 = Report(name='Hanna', lat=39.4312345, long=-104.5812345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,12,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report10 = Report(name='Hanna', lat=39.3712345, long=-104.4812345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,13,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report11 = Report(name='Hanna', lat=39.3512345, long=-104.4612345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,14,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report12 = Report(name='Hanna', lat=39.3312345, long=-104.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,15,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report25 = Report(name='Todd', lat=39.3922345, long=-104.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,16,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report26 = Report(name='Todd', lat=39.3932345, long=-104.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,17,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report27 = Report(name='Todd', lat=39.3942345, long=-104.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,18,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report28 = Report(name='Todd', lat=39.3952345, long=-104.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,19,00).strftime("%m/%d/%Y, %H:%M:%S"))
    #Nashville area:
    #2 days ago:
    report13 = Report(name='Phil',   lat=36.1912345, long=-86.7212345, description='Saw some stuff', event_type='sighting', city="Nashville", state="TN", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,12,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report14 = Report(name='Phil',   lat=36.2312345, long=-86.7012345, description='Saw some stuff', event_type='sighting', city="Nashville", state="TN", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,13,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report15 = Report(name='Phil',   lat=36.2112345, long=-86.7612345, description='Saw some stuff', event_type='sighting', city="Nashville", state="TN", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,14,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report16 = Report(name='Phil',   lat=36.2512345, long=-86.7212345, description='Saw some stuff', event_type='sighting', city="Nashville", state="TN", image='https://s.hdnux.com/photos/01/00/16/14/16835374/9/1200x0.jpg', created_at=datetime(2021, 2, 28,15,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report17 = Report(name='Austin', lat=36.2512345, long=-86.7812345, description='talked to some greys', event_type='contact', city="Nashville", state="TN", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,16,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report18 = Report(name='Austin', lat=36.1912345, long=-86.6612345, description='talked to some greys', event_type='contact', city="Nashville", state="TN", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,17,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report19 = Report(name='Austin', lat=36.1712345, long=-86.7412345, description='talked to some greys', event_type='contact', city="Nashville", state="TN", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,18,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report20 = Report(name='Austin', lat=36.2112345, long=-86.6412345, description='talked to some greys', event_type='contact', city="Nashville", state="TN", image='https://cdn.mos.cms.futurecdn.net/oafrH5eR2xkEjm55LS9gVM.jpg', created_at=datetime(2021, 2, 28,19,00).strftime("%m/%d/%Y, %H:%M:%S"))
    #10 days ago
    report21 = Report(name='Hanna',  lat=36.2312345, long=-86.7812345, description='it was chill', event_type='abduction', city="Nashville", state="TN", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,12,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report22 = Report(name='Hanna',  lat=36.1712345, long=-86.6812345, description='it was chill', event_type='abduction', city="Nashville", state="TN", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,13,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report23 = Report(name='Hanna',  lat=36.1512345, long=-86.6612345, description='it was chill', event_type='abduction', city="Nashville", state="TN", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,14,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report24 = Report(name='Hanna',  lat=36.1312345, long=-86.6412345, description='it was chill', event_type='abduction', city="Nashville", state="TN", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,15,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report29 = Report(name='Todd', lat=36.3922345, long=-86.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,16,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report30 = Report(name='Todd', lat=36.3932345, long=-86.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,17,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report31 = Report(name='Todd', lat=36.3942345, long=-86.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,18,00).strftime("%m/%d/%Y, %H:%M:%S"))
    report32 = Report(name='Todd', lat=36.3952345, long=-86.4412345, description='it was chill', event_type='abduction', city="Denver", state="CO", image='https://images-na.ssl-images-amazon.com/images/I/41%2BA5ZsPnHL._AC_SX425_.jpg', created_at=datetime(2021, 2, 21,19,00).strftime("%m/%d/%Y, %H:%M:%S"))
    db.session.add(report1)
    db.session.add(report2)
    db.session.add(report3)
    db.session.add(report4)
    db.session.add(report5)
    db.session.add(report6)
    db.session.add(report7)
    db.session.add(report8)
    db.session.add(report9)
    db.session.add(report10)
    db.session.add(report11)
    db.session.add(report12)
    db.session.add(report13)
    db.session.add(report14)
    db.session.add(report15)
    db.session.add(report16)
    db.session.add(report17)
    db.session.add(report18)
    db.session.add(report19)
    db.session.add(report20)
    db.session.add(report21)
    db.session.add(report22)
    db.session.add(report23)
    db.session.add(report24)
    db.session.add(report25)
    db.session.add(report26)
    db.session.add(report27)
    db.session.add(report28)
    db.session.add(report29)
    db.session.add(report30)
    db.session.add(report31)
    db.session.add(report32)

    db.session.commit()

    comment1 = Comment(report_id=report1.id, text="that's crazy dude")
    comment2 = Comment(report_id=report1.id, text="you're smokin that dream sand")
    comment3 = Comment(report_id=report2.id, text="that's crazy dude")
    comment4 = Comment(report_id=report2.id, text="you're smokin that dream sand")
    comment5 = Comment(report_id=report3.id, text="that's crazy dude")
    comment6 = Comment(report_id=report3.id, text="you're smokin that dream sand")
    comment7 = Comment(report_id=report4.id, text="that's crazy dude")
    comment8 = Comment(report_id=report4.id, text="you're smokin that dream sand")
    comment9 = Comment(report_id=report5.id, text="that's crazy dude")
    comment10 = Comment(report_id=report5.id, text="you're smokin that dream sand")
    comment11 = Comment(report_id=report6.id, text="that's crazy dude")
    comment12 = Comment(report_id=report6.id, text="you're smokin that dream sand")
    comment13 = Comment(report_id=report7.id, text="that's crazy dude")
    comment14 = Comment(report_id=report7.id, text="you're smokin that dream sand")
    comment15 = Comment(report_id=report8.id, text="that's crazy dude")
    comment16 = Comment(report_id=report8.id, text="you're smokin that dream sand")
    comment17 = Comment(report_id=report9.id, text="that's crazy dude")
    comment18 = Comment(report_id=report9.id, text="you're smokin that dream sand")
    comment19 = Comment(report_id=report10.id, text="that's crazy dude")
    comment20 = Comment(report_id=report10.id, text="you're smokin that dream sand")
    comment21 = Comment(report_id=report11.id, text="that's crazy dude")
    comment22 = Comment(report_id=report11.id, text="you're smokin that dream sand")
    comment23 = Comment(report_id=report12.id, text="that's crazy dude")
    comment24 = Comment(report_id=report12.id, text="you're smokin that dream sand")
    comment25 = Comment(report_id=report13.id, text="that's crazy dude")
    comment26 = Comment(report_id=report13.id, text="you're smokin that dream sand")
    comment27 = Comment(report_id=report14.id, text="that's crazy dude")
    comment28 = Comment(report_id=report14.id, text="you're smokin that dream sand")
    comment29 = Comment(report_id=report15.id, text="that's crazy dude")
    comment30 = Comment(report_id=report15.id, text="you're smokin that dream sand")
    comment31 = Comment(report_id=report16.id, text="that's crazy dude")
    comment32 = Comment(report_id=report16.id, text="you're smokin that dream sand")
    comment33 = Comment(report_id=report17.id, text="that's crazy dude")
    comment34 = Comment(report_id=report17.id, text="you're smokin that dream sand")
    comment35 = Comment(report_id=report18.id, text="that's crazy dude")
    comment36 = Comment(report_id=report18.id, text="you're smokin that dream sand")
    comment37 = Comment(report_id=report19.id, text="that's crazy dude")
    comment38 = Comment(report_id=report19.id, text="you're smokin that dream sand")
    comment39 = Comment(report_id=report20.id, text="that's crazy dude")
    comment40 = Comment(report_id=report20.id, text="you're smokin that dream sand")
    comment41 = Comment(report_id=report21.id, text="that's crazy dude")
    comment42 = Comment(report_id=report21.id, text="you're smokin that dream sand")
    comment43 = Comment(report_id=report22.id, text="that's crazy dude")
    comment44 = Comment(report_id=report22.id, text="you're smokin that dream sand")
    comment45 = Comment(report_id=report23.id, text="that's crazy dude")
    comment46 = Comment(report_id=report23.id, text="you're smokin that dream sand")
    comment47 = Comment(report_id=report24.id, text="that's crazy dude")
    comment48 = Comment(report_id=report24.id, text="you're smokin that dream sand")
    comment49 = Comment(report_id=report25.id, text="that's crazy dude")
    comment50 = Comment(report_id=report25.id, text="you're smokin that dream sand")
    comment51 = Comment(report_id=report26.id, text="that's crazy dude")
    comment52 = Comment(report_id=report26.id, text="you're smokin that dream sand")
    comment53 = Comment(report_id=report27.id, text="that's crazy dude")
    comment54 = Comment(report_id=report27.id, text="you're smokin that dream sand")
    comment55 = Comment(report_id=report28.id, text="that's crazy dude")
    comment56 = Comment(report_id=report28.id, text="you're smokin that dream sand")
    comment57 = Comment(report_id=report29.id, text="that's crazy dude")
    comment58 = Comment(report_id=report29.id, text="you're smokin that dream sand")
    comment59 = Comment(report_id=report30.id, text="that's crazy dude")
    comment60 = Comment(report_id=report30.id, text="you're smokin that dream sand")
    comment61 = Comment(report_id=report31.id, text="that's crazy dude")
    comment62 = Comment(report_id=report31.id, text="you're smokin that dream sand")
    comment63 = Comment(report_id=report32.id, text="that's crazy dude")
    comment64 = Comment(report_id=report32.id, text="you're smokin that dream sand")

    db.session.add(comment1)
    db.session.add(comment2)
    db.session.add(comment3)
    db.session.add(comment4)
    db.session.add(comment5)
    db.session.add(comment6)
    db.session.add(comment7)
    db.session.add(comment8)
    db.session.add(comment9)
    db.session.add(comment10)
    db.session.add(comment11)
    db.session.add(comment12)
    db.session.add(comment13)
    db.session.add(comment14)
    db.session.add(comment15)
    db.session.add(comment16)
    db.session.add(comment17)
    db.session.add(comment18)
    db.session.add(comment19)
    db.session.add(comment20)
    db.session.add(comment21)
    db.session.add(comment22)
    db.session.add(comment23)
    db.session.add(comment24)
    db.session.add(comment25)
    db.session.add(comment26)
    db.session.add(comment27)
    db.session.add(comment28)
    db.session.add(comment29)
    db.session.add(comment30)
    db.session.add(comment31)
    db.session.add(comment32)
    db.session.add(comment33)
    db.session.add(comment34)
    db.session.add(comment35)
    db.session.add(comment36)
    db.session.add(comment37)
    db.session.add(comment38)
    db.session.add(comment39)
    db.session.add(comment40)
    db.session.add(comment41)
    db.session.add(comment42)
    db.session.add(comment43)
    db.session.add(comment44)
    db.session.add(comment45)
    db.session.add(comment46)
    db.session.add(comment47)
    db.session.add(comment48)
    db.session.add(comment49)
    db.session.add(comment50)
    db.session.add(comment51)
    db.session.add(comment52)
    db.session.add(comment53)
    db.session.add(comment54)
    db.session.add(comment55)
    db.session.add(comment56)
    db.session.add(comment57)
    db.session.add(comment58)
    db.session.add(comment59)
    db.session.add(comment60)
    db.session.add(comment61)
    db.session.add(comment62)
    db.session.add(comment63)
    db.session.add(comment64)
    db.session.commit()
    print(f'obj count: {len(db.session.query(Report).all())}')
    print(f'obj count: {len(db.session.query(Comment).all())}')


if __name__ == "__main__":
    manager.run()
